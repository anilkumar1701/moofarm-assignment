<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <!-- <link rel="stylesheet" href="style.css" /> -->
        <style>
       @import url('https://fonts.googleapis.com/css?family=Roboto&display=swap');

:root {
	--dark-color-a: #1D8B82;
	--dark-color-b: #1D8B82;
	--light-color: #05D755;
	--success-color: #5cb85c;
	--error-color: #d9534f;
	--bg-color: #adc7b7;
}

* {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

body {
	font-family: 'Roboto', sans-serif;
	font-size: 16px;
	background: var(--bg-color);
	margin: 20px;
}

ul {
	list-style: none;
}

a {
	text-decoration: none;
}

.btn {
	cursor: pointer;
	padding: 5px 15px;
	background: var(--light-color);
	color: var(--dark-color-a);
	border: 0;
	font-size: 17px;
}

/* Chat Page */

.chat-container {
	/* max-width: 1100px; */
	background: #fff;
	/* margin: 30px auto; */
	overflow: hidden;
}

.chat-header {
	background: var(--dark-color-a);
	color: #fff;
	border-top-left-radius: 5px;
	border-top-right-radius: 5px;
	padding: 15px;
	display: flex;
	align-items: center;
	justify-content: space-between;
}

.chat-main {
	display: grid;
	grid-template-columns: 1fr 3fr;
	height: 75vh;
}

.chat-main2 {
	display: grid;
	grid-template-columns: 1fr 3fr;
}

.chat-sidebar {
	background: var(--dark-color-b);
	color: #fff;
	padding: 20px 20px 60px;
	overflow-y: scroll;
}

.chat-sidebar h2 {
	font-size: 20px;
	background: rgba(0, 0, 0, 0.1);
	padding: 10px;
	margin-bottom: 20px;
}

.chat-sidebar h3 {
	margin-bottom: 15px;
}

.chat-sidebar ul li {
	padding: 10px 0;
}

.chat-messages {
	padding: 30px;
	max-height: 500px;
	overflow-y: scroll;
}

.chat-messages .message {
	padding: 10px;
	margin-bottom: 15px;
	background-color: var(--light-color);
	border-radius: 5px;
}

.chat-messages .message .meta {
	font-size: 15px;
	font-weight: bold;
	color: var(--dark-color-b);
	opacity: 0.7;
	margin-bottom: 7px;
}

.chat-messages .message .meta span {
	color: #777;
}

.chat-form-container {
	padding: 20px 30px;
	background-color: var(--dark-color-a);
}

.chat-form-container form {
	display: flex;
}

.chat-form-container input[type='text'] {
	font-size: 16px;
	padding: 5px;
	height: 40px;
	flex: 1;
}

/* Join Page */
.join-container {
	max-width: 500px;
	margin: 80px auto;
	color: #fff;
}

.join-header {
	text-align: center;
	padding: 20px;
	background: var(--dark-color-a);
	border-top-left-radius: 5px;
	border-top-right-radius: 5px;
}

.join-main {
	padding: 30px 40px;
	background: var(--dark-color-b);
}

.join-main p {
	margin-bottom: 20px;
}

.join-main .form-control {
	margin-bottom: 20px;
}

.join-main label {
	display: block;
	margin-bottom: 5px;
}

.join-main input[type='text'] {
	font-size: 16px;
	padding: 5px;
	height: 40px;
	width: 100%;
}

.join-main select {
	font-size: 16px;
	padding: 5px;
	height: 40px;
	width: 100%;
}

.join-main .btn {
	margin-top: 20px;
	width: 100%;
}

@media (max-width: 700px) {
	.chat-main {
		display: block;
	}

	.chat-main2 {
		display: block;
	}

	.chat-sidebar {
		display: none;
	}

	.chat-header>h1{
		padding-left: 0vw !important;
	}
}

.chat-header>h1{
	padding-left: 45vw;
}        
        </style>
		<title>Bonus Calculator</title>
	</head>
	<body>
		<div class="join-container">
			<header class="join-header">
				<h1><i class="fas fa-smile"></i> Bonus Calculator</h1>
			</header>
			<main class="join-main">
				<form>
					<div class="form-control">
						<label for="username">Name:</label>
						<input
							type="text"
							name="username"
							id="username"
							placeholder="Enter username..."
							required
						/>
                    </div>
                    <div class="form-control">
						<label for="bonus">Bonus:</label>
						<input
							type="text"
							name="bonus"
							id="bonus"
							placeholder="Enter bonus..."
							required
						/>
                    </div>
                    <div class="form-control">
						<label for="deposit">Deposit:</label>
						<input
							type="text"
							name="deposit"
							id="deposit"
							placeholder="Enter deposit..."
							required
						/>
                    </div>
                    <div class="form-control">
						<label for="winnings">Winnings:</label>
						<input
							type="text"
							name="winnings"
							id="winnings"
							placeholder="Enter winnings..."
							required
						/>
                    </div>
                    <div class="form-control">
						<label for="service_charge">ServiceCharge:</label>
						<input
							type="text"
							name="service_charge"
							id="service_charge"
							placeholder="Enter service charge..."
							required
						/>
                    </div>
                    <div class="form-control">
						<label for="discount">Discount:</label>
						<input
							type="text"
							name="discount"
							id="discount"
							placeholder="Enter discount..."
							required
						/>
					</div>
                    <button type="button" onCLick = calculate_price() class="btn">Calculate</button>
                   
                </form>
                <div id="username2"></div>
                <div id="bonus2"></div>
                <div id="deposit2"></div>
                <div id="winnings2"></div>
                <div id="total2"></div>
			</main>
        </div>
        <script>
            function calculate_price(){                 
        var data = JSON.stringify({
          "bonus": parseInt(document.getElementById('bonus').value),
          "deposit": parseInt(document.getElementById('deposit').value),
          "winnings": parseInt(document.getElementById('winnings').value),
          "service_charge": parseInt(document.getElementById('service_charge').value),
          "discount": parseInt(document.getElementById('discount').value)
        });
        
        var xhr = new XMLHttpRequest();
        xhr.withCredentials = true;
        
        xhr.addEventListener("readystatechange", function () {
          if (this.readyState === 4) {
            console.log(this.responseText, typeof this.responseText);
            let data = JSON.parse(this.responseText).data;
            console.log(data)
            document.getElementById('username2').innerText =  'username  >>>>>>>>>>>' + document.getElementById('username').value;
                document.getElementById('bonus2').innerText =  'bonus  >>>>>>>>>>>' +data['bonus'];
                document.getElementById('deposit2').innerText =  'deposit >>>>>>>>>>>' +data['deposit'];
                document.getElementById('winnings2').innerText =  'winnings >>>>>>>>>>>' +data['winnings'];
                document.getElementById('total2').innerText =  'total >>>>>>>>>>>' +data['total'];
          }
        });
        
        xhr.open("POST", "http://localhost:8080/calculateWalletPrices");
        xhr.setRequestHeader("content-type", "application/json");
        xhr.setRequestHeader("cache-control", "no-cache");
        // xhr.setRequestHeader("postman-token", "cc3b723b-0dec-d01e-1a24-5fafbbc2b7b5");
        
        xhr.send(data);
                           
            }
                            
                            </script>
	</body>
</html>
